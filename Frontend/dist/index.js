"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const swagger_1 = require("./swagger");
const basketItem_1 = require("./data/basketItem");
const baseUrl = 'http://localhost:5000';
const storeApi = new swagger_1.StoreApi(baseUrl);
const categoryApi = new swagger_1.CategoryApi(baseUrl);
const productApi = new swagger_1.ProductApi(baseUrl);
const orderApi = new swagger_1.OrderApi(baseUrl);
let products = [];
let basket = [];
$(_ => {
    $('#lblMsg').html('Ok');
    loadStores();
    $('#stores').on('change', _ => {
        var _a, _b;
        const selectedStore = $('#stores :selected');
        updateStoreName(`${selectedStore.text()}`);
        loadProducts(+((_a = selectedStore.val()) !== null && _a !== void 0 ? _a : '-1'), +((_b = $('#categories :selected').val()) !== null && _b !== void 0 ? _b : '-1'));
    });
    $('#categories').on('change', _ => {
        var _a, _b;
        loadProducts(+((_a = $('#stores :selected').val()) !== null && _a !== void 0 ? _a : '-1'), +((_b = $('#categories :selected').val()) !== null && _b !== void 0 ? _b : '-1'));
    });
    $('#txtFilter').on('keyup', _ => {
        createProductTableBody(products.filter(x => { var _a, _b, _c, _d; return (_d = (_a = x.productName) === null || _a === void 0 ? void 0 : _a.includes((_c = (_b = $('#txtFilter').val()) === null || _b === void 0 ? void 0 : _b.toString()) !== null && _c !== void 0 ? _c : "")) !== null && _d !== void 0 ? _d : false; }));
    });
    $('#btnSaveBasket').on('click', _ => {
        saveBasket();
        $('#btnClearBasket').trigger('click');
    });
    $('#btnClearBasket').on('click', _ => {
        basket = [];
        createBasketBody(basket);
    });
});
function Sum(values) {
    if (values.length === 0)
        return 0;
    return values.reduce((sum, currentValue) => sum + currentValue);
}
function loadStores() {
    storeApi.storeGet().then(x => x.body)
        .then((data) => {
        var _a;
        const storeCombo = $('#stores');
        storeCombo.empty();
        data.forEach((x) => {
            $('<option>').val(`${x.storeId}`)
                .text(`${x.storeName}`).appendTo(storeCombo);
        });
        const selectedStore = $('#stores :selected');
        updateStoreName(`${selectedStore.text()}`);
        loadCategories(+((_a = selectedStore.val()) !== null && _a !== void 0 ? _a : '-1'));
    });
}
function loadCategories(selectedStoreId) {
    if (selectedStoreId === -1)
        return;
    categoryApi.categoryGet(selectedStoreId).then(x => x.body)
        .then((data) => {
        const categoryCombo = $('#categories');
        categoryCombo.empty();
        data.forEach((x) => {
            $('<option>').val(`${x.categoryId}`).text(`${x.categoryName}`).appendTo(categoryCombo);
        });
        loadProducts(selectedStoreId, 1);
    });
}
function loadProducts(storeId, categoryId) {
    if (storeId === -1 || categoryId === -1)
        return;
    productApi.productGet(categoryId, storeId).then(x => x.body)
        .then((data) => {
        products = data;
        createProductTableBody(products);
    });
}
function saveBasket() {
    const selectedStoreId = +$('#stores :selected').val();
    const orderItems = [];
    basket.forEach((basketItem) => {
        orderItems.push(new class {
            constructor() {
                this.productId = basketItem.productDto.productId;
                this.listPrice = basketItem.productDto.listPrice;
                this.quantity = basketItem.amount;
            }
        });
    });
    orderApi.orderPost(selectedStoreId, orderItems).then(x => x.body)
        .then((orderDto) => alert(`Saved Order with OrderId ${orderDto.orderId}`));
}
function updateStoreName(storeName) {
    $('#storeName').text(storeName);
}
function createProductTableBody(productDtos) {
    const productTable = $('#tblProductsBody');
    productTable.empty();
    productDtos.forEach((productDto) => productTable.append(createTableRow(productDto)));
}
function createBasketBody(basket) {
    const basketBody = $('#tblBasketBody');
    basketBody.empty();
    basket.forEach((basketItem) => basketBody.append(createTableRow(undefined, basketItem, true)));
    $('#basketSum').text(Sum(basket.map(x => x.amount * x.productDto.listPrice)).toFixed(2));
    if (basket.length === 0)
        $('#stores').removeAttr('disabled');
}
function createTableRow(product, basketItem, inBasket = false) {
    var _a;
    if ((product === undefined && !inBasket) || (basketItem === undefined && inBasket))
        return $('<tr>');
    const row = $('<tr>');
    const amountField = inBasket
        ? $('<label>').text((_a = basketItem === null || basketItem === void 0 ? void 0 : basketItem.amount) !== null && _a !== void 0 ? _a : 0)
        : $('<input>').attr('type', 'number').val(0);
    const button = $('<button>').text(inBasket ? '-' : '+')
        .addClass(inBasket ? 'btn btn-danger' : 'btn btn-success')
        .on('click', _ => {
        var _a, _b, _c;
        if (inBasket) {
            basket = basket.filter(x => x !== basketItem);
            createBasketBody(basket);
        }
        else {
            const foundOne = basket.find(x => x.productDto === product);
            const amount = +((_a = amountField.val()) !== null && _a !== void 0 ? _a : '0');
            if (amount === 0) {
                alert('Cannot add an Product with quantity 0');
                return;
            }
            if (foundOne !== undefined)
                foundOne.amount += +((_b = amountField.val()) !== null && _b !== void 0 ? _b : '0');
            else
                basket.push(new basketItem_1.BasketItem(+((_c = amountField.val()) !== null && _c !== void 0 ? _c : '0'), product));
            amountField.val(0);
            $('#stores').attr('disabled', "true");
            createBasketBody(basket);
        }
    });
    if (inBasket) {
        row.append($('<td>').append(button), $('<td>').append(amountField), $('<td>').text(basketItem === null || basketItem === void 0 ? void 0 : basketItem.productDto.productName), $('<td>').text(basketItem === null || basketItem === void 0 ? void 0 : basketItem.productDto.brand), $('<td>').text(basketItem === null || basketItem === void 0 ? void 0 : basketItem.productDto.category), $('<td>').text(basketItem === null || basketItem === void 0 ? void 0 : basketItem.productDto.modelYear), $('<td>').text(basketItem === null || basketItem === void 0 ? void 0 : basketItem.productDto.listPrice));
    }
    else {
        row.append($('<td>').append(button), $('<td>').append(amountField), $('<td>').text(product === null || product === void 0 ? void 0 : product.productName), $('<td>').text(product === null || product === void 0 ? void 0 : product.brand), $('<td>').text(product === null || product === void 0 ? void 0 : product.category), $('<td>').text(product === null || product === void 0 ? void 0 : product.modelYear), $('<td>').text(product === null || product === void 0 ? void 0 : product.listPrice));
    }
    return row;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVDQUVxQjtBQUNyQixrREFBNkM7QUFFN0MsTUFBTSxPQUFPLEdBQUcsdUJBQXVCLENBQUM7QUFFeEMsTUFBTSxRQUFRLEdBQUcsSUFBSSxrQkFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3ZDLE1BQU0sV0FBVyxHQUFHLElBQUkscUJBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM3QyxNQUFNLFVBQVUsR0FBRyxJQUFJLG9CQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDM0MsTUFBTSxRQUFRLEdBQUcsSUFBSSxrQkFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBRXZDLElBQUksUUFBUSxHQUFpQixFQUFFLENBQUM7QUFDaEMsSUFBSSxNQUFNLEdBQWlCLEVBQUUsQ0FBQztBQUU5QixDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDRixDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLFVBQVUsRUFBRSxDQUFDO0lBRWIsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUU7O1FBQzFCLE1BQU0sYUFBYSxHQUFHLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBRTdDLGVBQWUsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDM0MsWUFBWSxDQUFDLENBQUMsQ0FBQyxNQUFBLGFBQWEsQ0FBQyxHQUFHLEVBQUUsbUNBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQUEsQ0FBQyxDQUFDLHVCQUF1QixDQUFDLENBQUMsR0FBRyxFQUFFLG1DQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDOUYsQ0FBQyxDQUFDLENBQUM7SUFFSCxDQUFDLENBQUMsYUFBYSxD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